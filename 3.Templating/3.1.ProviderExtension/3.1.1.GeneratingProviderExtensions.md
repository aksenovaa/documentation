3.1.1 Формирование расширения проводника
========================================

![FluidTYPO3 File contexts, full](../Images/FileContext/Full.svgz)

В этой главе описывается автоматическое создание кода. Во Fluid Powered TYPO3 имеется несколько возможностей автоматического
формирования кода на базе определённых правил. Первая, и важнейшая — генерация кода в EXT:builder, который можно найти в Github:
[https://github.com/FluidTYPO3/builder](https://github.com/FluidTYPO3/builder).

EXT:builder имеет несколько способо проверки и формирования кода.

## Формирование расширения поставщика

Проще всего создавать каркас своего расширения проводника через EXT:builder — воспользоваться встроенным внуртенним модулем.
Просто установите EXT:builder, перейдите во внутренний интерфейс TYPO3 и выберете новый пункт меню "Builder". Заполните поля
автор и так далее, а затем нажмите "создать/create", после чего установите своё расширение.

### Параметры командной строки

Для тех, кто желает автоматизировать процесс либо предпочитает использование CLI, существует CLI версия генератора расширений
поставщиков. Запущенная из консоли эта CLI команда, доступная при установленном EXT:builder, создаст каркас расширения с базовым набором файлов и настроек, и все - лишь одной простой командой (из корня сайта TYPO3):

```bash
./typo3/cli_dispatch.phpsh extbase builder:providerextension <arguments>
```

Команда поддерживает большой набор аргументов для настройки формируемого расширения относительно его предназначения и создания.

```plain
ОБЯЗАТЕЛЬНЫЕ АРГУМЕНТЫ:
  --extension-key      Ключ формируемого расширения, которого не должно быть в папке typo3conf/ext.
  --author             Автор расширения, в формате "Имя Фамилия <name@example.com>" с необязательным названием компании,
                       при этом форма будет следующей: "Имя Фамилия <name@example.com>, Компания"


ВОЗМОЖНЫЕ АРГУМЕНТЫ:
  --title              Название формируемого расширения, по умолчанию "Provider extension for $enabledFeaturesList"
  --description        Описание формируемого расширения, по умолчанию "Provider extension for $enabledFeaturesList"
  --use-vhs            Если TRUE, добавляется зависимость от расширения VHS, что рекомендуется, включено по умолчанию
  --pages              Если TRUE, создаются основные файлы, применительно к шаблонам Fluid Page
  --content            Если TRUE, создаются основные файлы, применительно к шаблонам Fluid Content
  --backend            Если TRUE, создаются основные файлы, применительно к модулям Fluid Backend
  --controllers        Если TRUE, формируются контроллеры для всех указанных функций. При включении $backend,
                       контроллер создается не взирая на этот аргумент.
  --minimum-version    Минимально требуемая для этого расширения версия ядра, по умолчанию - последняя LTS (на данный момент 4.5)
  --dry                Если TRUE, происходит холостой запуск - никакие файлы не создаются,
                       но дается отчет по возможности создания файлов
  --verbose            Если FALSE, не выводится множество сообщений (в STDOUT)
  --git                Если TRUE, вновь создаваемая директория расширения инициализируется как репозиторий Git и commits
                       для всех файлов. Затем возможно "git add remote origin <URL>" и "git push origin master -u"
                       для возвращения (push) начального состояния
  --travis             Если TRUE, формирутся сценарий построения Travis-CI использующий стандарты кодирования и анализа кода
                       TYPO3 на базе Fluid coding standards analysis and code
                       для автоматического тестирования в Travis-CI
```

В зависимости от используемых параметров, будут созданы файлы шаблонов для EXT:fluidcontent, EXT:fluidpages и/или EXT:fluidbackend с базовым набором настроек, файлов, необходимых для всех подобных расширений. Чтобы проверить работу, укажите `--dry 1`, это значит, что файлы/папки не будут созданы, но будет проверена возможность их создания. Возможно даже инициализировать и провести изначальный commit всех файлов в виде git репозитория (требуется доступ к консольной CLI команде `git` для текущего пользователя).

Например, команда может выглядеть так:

```bash
./typo3/cli_dispatch.phpsh extbase builder:providerextension \
	--extension-key test --author "Claus Due <claus@***********.net>" \
	--pages 1 --content 1 --controllers 1 --git 1 --travis 1 --use-vhs 1
```

Так будет сформировано расширение с ключом test автора Claus Due с email claus@wildside.dk, включающее шаблоны page и content, наряду с классами контроллеров для обоих, сценарий построения Travis-CI для всего расширения. И наконец будет создан репозиторий git в папке расширения с изначальным commit всех файлов.

Сформированное расширение затем можно запросто установить, также из командной строки:

```bash
./typo3/cli_dispatch.phpsh extbase builder:install test
```

Так можно просто установить расширение с ключом "test" (обратите внимание: эта возможость работает лишь для сайтов на 6.0+ TYPO3). Все, что остается сделать - загрузить статический TypoScript в каждый из корневых шаблонов страниц, где необходимо использовать шаблоны содержимого/страниц и начать создавать собственныеили настраивать преднастроенные шаблоны.
