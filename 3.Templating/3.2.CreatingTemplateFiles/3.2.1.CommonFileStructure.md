3.2.1 Общая структура файлов
============================

![FluidTYPO3 File contexts, Templates](../Images/FileContext/Templates.svgz)

Fluid Powered TYPO3 использует правила Extbase для расположения файлов шаблонов по умолчанию. Это значит, что файлы ваших
шаблонов обычно находятся в папке `EXT:myextensionkey/Resources/Private` — папке по умолчанию использующейся для так называемых приватных ресурсов, которыми и являются шаблоны — в трёх подпапках:

1. `Templates` содержат различные типы шаблонов, которые в свою очередь также помещаются в подпапки, например, `Templates/Content` и `Templates/Page`.
2. `Partials` — папка для шаблонных фрагментов (например, кусков кода HTML, использующегося во множестве шаблонов). Вам эта
папка может и не понадобится, но при использовании `f:render` с аргументов `partial`, Fluid сначала попытается найти шаблонный
фрагмент по этому местоположению.
3. `Layouts` обычно содержат один макет для каждого типа шаблона, например `Content.html`, `Page.html` и так далее.

По правилам, TypoScript с настройками этих шаблонов должен располагаться в так называемых "статичных файлах TypoScript
настройки" в `EXT:myextensionkey/Configuration/TypoScript` и подключаться или регистрироваться для подключения посредством
любого известного в TYPO3 метода. Об этих возможностях расказано в [3.1.5 настройка файлов в расширениях проводниках](../../3.Templating/3.1.ProviderExtension/3.1.5.ConfigurationFiles.md).

Для расширения, используемого в качестве хранилища шаблонов, должны быть настроены три пути. Делается это через добавление
стандартного TypoScript, определяющего набор путей для режимов отображения Fluid:

```plain
plugin.tx_myextensionkey.view {
	templateRootPath = EXT:myextensionkey/Resources/Private/Templates/
	partialRootPath = EXT:myextensionkey/Resources/Private/Partials/
	layoutRootPath = EXT:myextensionkey/Resources/Private/Layouts/
}
```

Эта настройка TypoScript должна быть добавлена в статичный TypoScript расширения, как содержащая значения по умолчанию. **Без указания этих путей шаблоны расширения не будут корректно выведены**.

## Layouts/Макеты и Partials/Шаблонные фрагменты

Как и в любых других шаблонах Fluid, для названия макета/Layout можно использовать любое название. Мы, в команде Fluid Powered
TYPO3, предлагаем вам по мере необходимости использовать названия `Default`, `Content`, `CoreContent` и `Page` as needed. В
этом списке указано, какое название и когда использовать:

* `Page`, если макет/Layout должен использоваться в шаблонах страниц посредством `fluidpages`. Предполагается, что все шаблоны
страниц используют общий файл макета/Layout, но иногда нужно добавить и другие макеты/Layouts, при этом имеет смысл
использовать такие названия, как `FrontPage` и `SubPage`.
* `Content`, если макет/Layout предназначен для элементов `fluidcontent` — обычно для элементов содержимого нужен лишь один
макет/Layout, но, как и для шаблоново страниц, можно разделить макеты на , например, `MediaContent`, `TextContent` и тому
подобные файлы макетов.
* `CoreContent`, если макет/Layout предназначен для элементов `fluidcontent_core`. Для конкретно этого расширения необходимо
строго следовать правилам — согласованность и предсказуемость **очень** важна для шаблонов элементов ядра.
* `Default`, если, например, все ваши файлы макетов/Layout содержат лишь оператор `<f:render />` для вывода одного раздела. Если макет/Layout HTML настолько прост, то общий файл макета/Layout даст небольшой прирост производительности и улучшит читаемость — один файл компилируется быстрее
нескольких, а использование одного файла не оставит сомнений в том, какой файл используется в каком из шаблонов.

Помимо указанных правил именования, других правил и рекомендаций для макетов/Layouts, настраиваемых для Fluid Powered TYPO3 не существует. Содержимое макетов возлагается на вас, как разработчика/дизайнера.

Шаблонные фрагменты/Partials могут использоваться для всего, что пожелаете. Они могут содежрать общие предпросмотры, поля форм Flux, определения сеток и так далее — просто нужно поместить оператор `f:render` в правильном месте для их "включения".
