3.4.2 Переменные TypoScript
===========================

TypoScript — это многофункциональный язык настроек, используемый внутри самого ядра TYPO3. Он, с несколькими правилами,
используется каждым автором расширения.

Использование FluidTYPO3 для создания шаблонов означает создание нового расширения по правилам extbase, придерживаясь некоего
шаблона, можно извлечь из этого выгоду.

## Проблема
Я хочу назначить переменные через TypoScript и пспользовать их в моём шаблоне.

## Решение
В обычных проектах TYPO3 необходимо назначать значение посредством констант TypoScript и использовать их в функциях, например,
wrap. При создании шаблонов FluidTYPO3, мы решим проблему, используя правила extbase для каскадных значений TypoScript.
Приведённый список показывает, как обрабатывается значение:

1. Назначаете константу TypoScript ``plugin.tx_myproject.settings.baseclass = green`` в ``Configuration/TypoScript/constants.txt``. Таким образом мы вовлекаем всю мощь редактора констант из модуля управления шаблонами, и даём возможность простого изменения значения.
2. Импортируем константу в настройку/setup TypoScript: ``plugin.tx_myproject.setting.baseclass = {$plugin.tx_myproject.settings.baseclass}`` в ``Configuration/TypoScript/setup.txt``
3. Значение *можно* переназначить на любом уровне дерева странц посредством редактора констант.
4. Значение *можно* переназначить в любой созданной вами форме настроек, просто задав полю название ``settings.baseclass``.
5. Значение доступно в действиях PageController для **чтения** (изменения в контроллере не распространяются на режимы
вывода/view) ``$this->settings``.
6. И наконец, значение попадает в шаблон и оно доступно через ``{settings.baseclass}``.

### Пример

#### TypoScript constants
```
plugin.tx_myproject.settings.baseclass = green
```

### TypoScript setup
```
plugin.tx_myproject.settings.baseclass = {$plugin.tx_myproject.settings.baseclass}
```

### fluidcontent / fluidpages / формы flux
```xml
<flux:field.input name="settings.baseclass"/>
```

### Контекст контроллера (PageController, ContentController, AbstractFluxController)
```php
function footemplateAction(){
   // available here for *reading*
   $this->settings
}
```

### Формирование шаблона
```xml
<div class="{settings.baseclass}">
    <img src="coolcatpictures.com/image.png />
</div>
```

Просто?

## Советы и хитрости

Переменная {settings} доступна в _каждом_ подрежиме формируемого шаблона. Это значит, что не нужно что-то куда-то передвать, вроде ``arguments="{settings: settings}"`` в шаблонные фрагменты/partial для вывода.
