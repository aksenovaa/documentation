2.1 Установка из Github
=======================

Для начала, общие замечания о нашей стратегии ветвления: мы используем стратегию с ветвями `development`, `staging` и `master`, что вкратце можно описать как __ветвь master содержит стабильные версии, staging (и/или legacy, смотрите полное описание) содержит код, на котором будут выпущенны следующие стабильные версии, а development собирает все новые функции и важные изменения, которые войдут в версию stable по завершении.__ Полное описание стратегии ветвления можно найти в нашей [главе стратегия Git](../5.Appendix/5.3.GitWorkflow.md), но кратко это: если наши расширения зависят от друг друга, и используются репозитории git, необходимо использовать те же ветви во всех репозиториях. Например, если скачен Flux из ветви `development`, то и `fluidcontent`, и другие расширения должны быть загружены из ветвей `development`.

> Важно: обновление расширений с использованием git иногда может привести к тому, что код из них не будет соответствовать коду в кешированной версии записей (помимо прочего), зависимости из которых будут внесены в код. Если сайт перестал работать после `git pull` обновления, необходимо вручную очистить все файлы и таблицы в кеше посредством TYPO3 install tool. Во многих случаях понадобиться также вручную очистить таблицы БД, содержащие кеш Extbase.

Установку расширений Fluid Powered TYPO3 из Github можно производить двумя способами:

## Используя команды CLI

Непосредственное использование репозиториев — пока самое простое. Просто клонируйте нужный репозиторий в свою
папку `typo3conf/ext/` таким образом (команда выполняется из корневой папки сайта):

```bash
git clone "https://github.com/FluidTYPO3/flux.git" typo3conf/ext/flux
```

Будет проверена ветвь `master` (стабильная версия, присутствующая в репозитории расширений TYPO3). Можно проверить нужную вам
ветвь, например, если необходима ветвь `development`:

```bash
cd typo3conf/ext/flux; git checkout development
```

Альтернативно (но не поддерживается всеми версиями git) можно непосредственно проверить только единственную ветвь:

```bash
git clone "https://github.com/FluidTYPO3/flux.git" typo3conf/ext/flux \
--single-branch --branch development
```

Либо, если пользуетесь старой версией git, для проверки единственной ветви можно использовать такой синтаксис:

```bash
git clone https://github.com/FluidTYPO3/flux.git typo3conf/ext/flux \
&& cd typo3conf/ext/flux && git checkout development
```

И наконец, для ограничения размера загружаемого и сокращения времени на анализ, что имеет значение, если информация о
репозитории не нужна, а обычно она нужна лишь авторам или владельцам хранилищ, можно добавить `--depth 1` к команде CLI для
совершения _мелкого клонирования_, не имеющего истории за пределами последней фиксации/commit:


```bash
git clone "https://github.com/FluidTYPO3/flux.git" typo3conf/ext/flux \
--single-branch --branch development --depth 1
```

Следующий подход также имеет важное значение при [установке через Git (или Composer)](2.4.UnassistedInstallation.md).

## Использование заархивированных ветвей или выпусков

Github позволяет скачивать ветви репозитория в виде налету создваемых архивов zip, то есть, можно в Github перейти к
репозиторию и ветви в нём, и затем щёлкнуть в меню справа "Download zip archive". Выпуски (что соответствует версиям,
загруженным в репозиторий расширений TYPO3) расположенв в "releases" (Github показывает ссылку с общим количеством релизов рядом
с ссылками на фиксации/commit и списком ветвей в заголовке домашней страницы репозитория).

Загрузите файлы расширений, а затем извлеките их в папки внутри `typo3conf/ext/` сайта TYPO3. Осторожно - в зависимости от
способа загрузки файлов, извлечённые папки могут иметь неправильное название, в этом случае просто переименуйте папку перед
установкой расширения. Затем через модуль управления расширениями установите расширение как обычно.

**Замечание: любые расширения-зависимости, ещё не загруженные вручную, будут скачаны с репозитория расширений, и их версия
может быть некорректной! Чтобы избежать этого, загрузите все расширения, от которых зависит текущее расширение.**
